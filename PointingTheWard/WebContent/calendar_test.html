<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
	@media screen and (max-width: 767px){
	}
	@media screen and (min-width: 768px) and (max-width:959px){
	}
	@media screen and (min-width: 960px){
		table {
			border-style: solid;
			border-width: thin;
		}
		
		table thead{
			border-bottom-style: solid;
			border-bottom-width: thin;
		}
		
		table td{
			width: 5%;
			text-align: center;
		}
		
		div.day_block{
			cursor: pointer;
		}
		
		div.day_block > label{
			padding: 10% 10% 10% 10%;
		}
		
		img.event_img{
			width: 20%;
			height: 5%;
		}
		
		input#prevMonthBtn{
			background-image: url("img/prev_month_img.png");
		}
		input#prevYearBtn{
		
			background-image: url("img/prev_year_img.png");
		}
		input#nextMonthBtn{
			background-image: url("img/next_month_img.png");
		}
		input#nextYearBtn{
			background-image: url("img/next_year_img.png");
		}
		
		input.calendarControlBtn{
			cursor: pointer;
			width: 5%;
			background-position: center;
		}
	}
</style>
<script type="text/javascript"
	src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
<script type="text/javascript">
	var calender = [ 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ];//각 달의 일수를 저장한 calender배열 선언 및 초기화

	$(document).ready(function() {
		var today = new Date();
		var year, month; //년,원,일 저장 변수,입력값,체크값 결과 저장 변수
		
		year = today.getFullYear();
		month = today.getMonth() + 1;
		
		setCalendar(year, month);
		
		$('input#prevMonthBtn').click(function(){
			if(--month <= 0){
				month = 12;
				year--;
			}
			clearCalendar();
			setCalendar(year, month);
		});
		
		$('input#prevYearBtn').click(function(){
			if(--year < 0){
				year = 0;
			}
			clearCalendar();
			setCalendar(year, month);
		});
		
		$('input#nextMonthBtn').click(function(){
			if(++month > 12){
				month = 1;
				year++;
			}
			clearCalendar();
			setCalendar(year, month);
		});
		
		$('input#nextYearBtn').click(function(){
			clearCalendar();
			setCalendar(++year, month);
		});
	});
	
	function setCalendar(year, month){
		var totalday = totalDay(year, month);
		
		var dayBlocks = $('div.day_block');
		for(var i = totalday % 7, j = 1; j < calender[month - 1]; i++, j++){
			$($(dayBlocks[i]).children()[0]).html(j);
		}
		
		$('label#currentYear').html(year);
		$('label#currentMonth').html(month);
	}
	
	function clearCalendar(){
		$('div.day_block').each(function(index){
			$($(this).children()[0]).html('');
		});
	}

	/*윤년 평년 확인 함수*/
	function isLeapYear(year) //년도를 전달인자로 받음
	{
		if(year%4==0 && (year%400==0 || year%100 !=0)) {
			return true;
		}else{
			return false;
		} 
	}
	/*총 날수를 구하는 함수 정의부*/
	function totalDay(year, month) //년,월,일 매개변수 값과 calender pointer매개변수를 받음
	{
		var res, totalday, tot = 0, mon = 0; //윤년 평년 제어변수, 총날수 저장변수,전년도,전월까지 누적일수 저장 변수 선언 및 초기화
		/*1~입력년도까지의 총날수*/
		for (var i = 1; i <= year - 1; i++) //1년부터 입력한 년도의 전년도 까지 윤년 + 평년 일수의 합 누적
		{
			//윤년체크 함수 호출 및 리턴값 저장
			if (isLeapYear(i)) //윤년(리턴값 1)일 경우 
			{
				tot += 366; //366일을 누적 하고
			} else //평년인 경우
			{
				tot += 365; //365일을 누적
			}
		}
		/*1~입력월까지의 총날수*/
		for (var i = 0; i < month - 1; i++) //0번방(1월) 부터 입력한 달의 전번방(전 월)까지 반복 누적달까지 반복 누적
		{
			mon += calender[i]; //캘린더의 그달의 일수를 누적해서 합<윤년일 경우 이미 2월 값은 29일로 바껴있음>
		}
		totalday = tot + mon + 1; //총 일수 계산<입력한 달 1일까지으므로 1추가>
		if(isLeapYear(year) && month >= 2){
			totalday++;
		}
		return totalday; //총 일수 리턴과 함께 함수 종료
	}
	
</script>
</head>
<body>
	<div id="calendar_div">
		<table>
			<thead>
				<tr>
					<td>
						<label id="currentYear">2015</label>
					</td>
					<td>
						<label id="currentMonth">12</label>
					</td>
					<td colspan="5" style="text-align: right;">
						<input type="button" class="calendarControlBtn" id="prevMonthBtn"/>
						<input type="button" class="calendarControlBtn" id="prevYearBtn"/>
						<input type="button" class="calendarControlBtn" id="nextYearBtn"/>
						<input type="button" class="calendarControlBtn" id="nextMonthBtn"/>
					</td>
				</tr>
				<tr>
					<td>일</td>
					<td>월</td>
					<td>화</td>
					<td>수</td>
					<td>목</td>
					<td>금</td>
					<td>토</td>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
				</tr>
				<tr>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
				</tr>
				<tr>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
				</tr>
				<tr>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
				</tr>
				<tr>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
				</tr>
				<tr>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
					<td>
						<div class="day_block">
							<label></label><br/>
							<img class="event_img" src="img/event_img.png"/>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</body>
</html>